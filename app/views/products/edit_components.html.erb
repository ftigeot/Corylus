<h1>Edition composants produit</h1>

<p><b>Nom:</b> <%=h @product.name %></p>
<p><b>Description:</b> <%=h @product.description %></p>

<h3>Ce produit est composé de ces autres produits:</h3>

<div id="component_list">
<%= render 'components/list' %>
</div>

<p><b>Prix de base du produit:</b> <%= @product.public_price %></p>

<hr/>

<div id="busy" style="float:right;display:none;"> Busy... </div>

<%= form_tag :action => 'new_component', :id => @product.id do %>
	<label for="product_field">Produit sélectionné:</label><div id='product_field'></div>
	<%= submit_tag 'Ajouter une ligne produit' -%>
<% end -%>

<br/>

<label for="ssid">Catégories:</label>
<select id="ssid" name="ssid">
<option value="0" selected="selected">&nbsp;</option>
<%= options_from_collection_for_select( @categories, 'id', 'name' ) %>
</select>

<%= observe_field( :ssid, :update => "browse_menu2",
	:url => { :action => 'ajax_browse_products', :n => 2},
	:with => "'id='+value",
	:loading  => 'Element.show("busy"); Element.hide("browse_menu2");',
	:complete => 'Element.show("browse_menu2"); Element.hide("busy");' ) %>

<div id="browse_menu2"/>
